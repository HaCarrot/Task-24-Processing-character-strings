<h1><strong>Создание приложения &ldquo;Задание 24 (Обработка символьных строк)&rdquo;</strong></h1>
<h2><a name="_Toc61210692"></a><strong>2.1 Концепт приложения</strong></h2>
<p>При первоначальном запуске приложения пользователь попадает в меню, откуда он может открыть теорию, необходимую для задания 24 ЕГЭ, или открыть задачи на предложенную тему.</p>
<p>&nbsp;Если было произведено нажатие кнопки, отвечающее за теорию, выводится выбранный раздел информации, представленный в виде слайдов. Пользователь может перемещаться между ними в случайном порядке, а также выйти в меню. За данные функции отвечают кнопки, расположенные в левой части экрана.</p>
<p>В случае выбора в меню кнопки, связанная с задачами, пользователь переходит в сцену с условием сгенерированной задачи. Слева находятся кнопки, которые отвечают за следующие фунцкии:</p>
<ul>
<li>Генерацию файла &ldquo;input.txt&rdquo;, в котором содержатся входные данные для задачи. Текстовый файл появляется на рабочем столе после нажатия кнопки.</li>
<li>Генерацию нового условия задачи, с удалением файлов, созданных в процессе решения предыдущей задачи.</li>
<li>Проверки ответа на задачу, путём запуска файла &ldquo;answer.py&rdquo;, который должен находиться на рабочем столе. Если такого файла не существует, пользователь получает сообщение об этом. Иначе, на экране показывается ответ пользователя, а также правильный ответ. На рабочем столе генерируется файл &ldquo;task.py&rdquo;, в котором представлено правильное решение задачи на языке Python.&nbsp;</li>
<li>Выход в главное меню.</li>
</ul>
<p><a name="_Toc61210693"></a><strong>2.2 Визуальная часть приложения</strong></p>
<p>Графическая оболочка приложения, анимации и пользовательский интерфейс была создана в среде разработки Unity, с использованием C# и графического редактора paint.net.</p>
<p><a name="_Toc61210694"></a><strong>2.3 Генерирование задачи</strong></p>
<p>За генерацию задач, а также работу с &ldquo;Python-файлами&rdquo; отвечает скрипт &ldquo;TaskOne.cs&rdquo; на языке программирования C#. В функции GenerateTask() в зависимости от значения публичной переменной &ldquo;type&rdquo; генерируется определённый тип задачи. В переменную &ldquo;task&rdquo; записывается условие задачи, которое выводится на экране. После случайным образом генерируются исходные данные для задачи, которые в последствии будут записаны в созданный файл &ldquo;input.txt&rdquo;, а также определяется путь до рабочего стола. В конце выполнения функции, в переменную &ldquo;solution&rdquo; записывается решение задачи на языке программирования Python с использованием управляющих символов ( \n , \t ). Это решение будет записано в файл &ldquo;task.py&rdquo;, когда пользователь решит задачу.</p>
<p><a name="_Toc61210695"></a><strong>2.4 Создание и редактирование </strong><strong>Python</strong> <strong>файлов на С#</strong></p>
<p>Создание файлов на языке Python можно осуществить также, как и создание обычных текстовых файлов. Для этого нужно использовать библиотеку System.IO и класс StreamWriter, который реализует TextWriter для записи символов в поток в определённой кодировке. Соответственно, и редактирование файлов Python можно осуществить с помощью этой библиотеки. В случае с программой для подготовки к экзамену, данный принцип используется для создания файла &ldquo;task.py&rdquo;, который может проанализировать, а также запустить сам пользователь приложения. &ldquo;Python-код&rdquo; хранится в строке с управляющими символами, так как в Python нужно учитывать переносы и отступы строк.</p>
<p><a name="_Toc61210696"></a><strong>2.5 Взаимодействие языков </strong><strong>C</strong><strong># и </strong><strong>Python</strong></p>
<p>Существует два способа взаимодействия языков С# и Python:</p>
<ul>
<li>Использование промежуточных текстовых файлов</li>
<li>Использование интерпретатора командой строки Windows</li>
</ul>
<p>Если использовать текстовые файлы, например, &ldquo;input.txt&rdquo; и &ldquo;output.txt&rdquo;, то один из языков будет записывать входные данные в один файл, другой язык будет его считывать, после чего в отдельный файл записывать выходные данные, которые уже сможет считать первый язык. Данный метод можно реализовать с помощью библиотеки System.IO языка программирования C# и встроенных команд для работы с файлами в Python.</p>
<p>Для того, чтобы обойтись без промежуточных файлов, можно использовать интерпретатор командной строки. Для этого стоит воспользоваться библиотекой C# System.Diagnostics. С помощью C# мы открываем интерпретатор с заданным аргументом. В начале с помощью команды &ldquo;cd&rdquo; мы выбираем папку, в который находится нужный нам скрипт. После с помощью команды &ldquo;file.py&rdquo;, где file &ndash; имя файла, открываем его. При необходимости ввода, просто вводим в командную строку исходные данные. Если же ввода нет, то &ldquo;Python-файл&rdquo; сразу выведет данные. Таким образом, наш аргумент может выглядеть так: &ldquo; cd /d C:\Users\User\Desktop &amp; file.py &amp; 123787658&rdquo;. Для C# &ldquo;cmd.exe&rdquo; &ndash; это процесс. Чтобы задать аргумент, используем ProcessStartInfo. Также для того, чтобы интерпретатор не мешал нашему взгляду и не пугал пользователя, зададим параметры WindowStyle = ProcessWindowStyle.Hidden, CreateNoWindow = true, и обязательно RedirectStandartOutput = true. После чего запускаем процесс, и получаем выходные данные с использованием StringBuilder.&nbsp;</p>
<p></p>
<p> <strong> Ссылка на билд приложения <a href="https://drive.google.com/file/d/1_XpmeqDb5tRqDLkDNfo0rl0WYNlU9KRc/view?usp=sharing">клик </a> </strong> </p>
